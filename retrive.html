<html>

<head>
    <title>Employeement Management Portal</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js"></script>
    <script>
        var employeeArray = [];

        function init() {
            if (localStorage.placeRecord)
                employeeArray = JSON.parse(localStorage.placeRecord);
            for (var i = 0; i < employeeArray.length; i++) {
                prepareTableCell(employeeArray[i].fname, employeeArray[i].lname, employeeArray[i].mail, employeeArray[i], employeeArray[i].birthDate, employeeArray[i].phoneNumber);
            }
        }

        function onRegistered() {
            var fname = document.getElementById("fname").value.dataFromLS[i];
            var lname = document.getElementById("lname").value.dataFromLS[i];
            var mail = document.getElementById("mail").value.dataFromLS[i];
            var designation = document.getElementById("designation").value.dataFromLS[i];

            var birthDate = document.getElementById("birthDate").value.dataFromLS[i];
            var phoneNumber = document.getElementById("phoneNumber").value.dataFromLS[i];
            var empObj = {
                fname: fname,
                lname: lname,
                mail: mail,
                birthDate: birthDate,
                phoneNumber: phoneNumber
            };
            employeeArray.push(empObj);
            localStorage.placeRecord = JSON.stringify(employeeArray);
            prepareTableCell(fname, lname, mail, designaton, birthDate, phoneNumber);
            document.getElementById("fname").value = "";
            document.getElementById("lname").value = "";
            document.getElementById("mail").value = "";
            document.getElementById("designation").value = "";
            document.getElementById("birthDate").value = "";
            document.getElementById("phoneNumber").value = "";
        }

        function prepareTableCell(fname, lname, mail, birthDate, phoneNumber) {
            var table = document.getElementById("regTable");
            var row = table.insertRow();
            var fnameCell = row.insertCell(0);
            var lnameCell = row.insertCell(1);
            var mailCell = row.insertCell(2);
            var designationCell = row.isertCell(3);
            var birthDateCell = row.insertCell(4);
            var phoneCell = row.insertCell(5);
            var actionCell = row.insertCell(6);
            fnameCell.innerHTML = fname;
            lnameCell.innerHTML = lname;
            mailCell.innerHTML = mail;
            designationCell.innerHTML = designation;
            birthDateCell.innerHTML = birthDate;
            phoneCell.innerHTML = phoneNumber;
            actionCell.innerHTML = '<button>EDIT</button><br/><button>Delete</button>';
        }
    </script>
</head>

<body onload="init()">
    <div class="container">
        <aside class="rightbar">
            <table class=" table table-bordered table-hover" id="regTable">
                <thead>
                    <tr>
                        <th>
                            <td>fname
                            </td>
                            </td>
                        </th>
                        <th>
                            <td>lname
                            </td>
                            </td>
                        </th>
                        <th>
                            <td>mail
                            </td>
                            </td>
                        </th>
                        <th>
                            <td>dsesignation
                            </td>
                            </td>
                        </th>
                        <th>
                            <td>birthDate
                            </td>
                            </td>
                        </th>
                        <td>
                            <th>
                                <td>phoneNumber</td>
                        </td>
                        </th>
                    </tr>
                </thead>
            </table>
        </aside>
</body>

</html>